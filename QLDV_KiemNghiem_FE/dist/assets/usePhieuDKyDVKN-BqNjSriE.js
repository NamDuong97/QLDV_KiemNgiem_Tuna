var B=r=>{throw TypeError(r)};var w=(r,e,t)=>e.has(r)||B("Cannot "+t);var u=(r,e,t)=>(w(r,e,"read from private field"),t?t.call(r):e.get(r)),D=(r,e,t)=>e.has(r)?B("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),y=(r,e,t,s)=>(w(r,e,"write to private field"),s?s.call(r,t):e.set(r,t),t),T=(r,e,t)=>(w(r,e,"access private method"),t);import{aC as W,aD as b,aE as X,aF as z,z as Z,aG as ee,aH as te,r as G,aI as se,aJ as re,aK as ne,aL as ae,aM as k,aN as x,aO as ue,aP as ie,aQ as _,aR as l,y as oe,aS as A,aT as U}from"./index-DDI_bEZx.js";function $(r,e){return r.filter(t=>!e.includes(t))}function ce(r,e,t){const s=r.slice(0);return s[e]=t,s}var I,K,M,f,C,H,O,P,N,h,S,L,q,v,Q,j,he=(j=class extends W{constructor(e,t,s){super();D(this,h);D(this,I);D(this,K);D(this,M);D(this,f);D(this,C);D(this,H);D(this,O);D(this,P);D(this,N,[]);y(this,I,e),y(this,f,s),y(this,M,[]),y(this,C,[]),y(this,K,[]),this.setQueries(t)}onSubscribe(){this.listeners.size===1&&u(this,C).forEach(e=>{e.subscribe(t=>{T(this,h,v).call(this,e,t)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,u(this,C).forEach(e=>{e.destroy()})}setQueries(e,t){y(this,M,e),y(this,f,t);{const s=e.map(a=>u(this,I).defaultQueryOptions(a).queryHash);new Set(s).size!==s.length&&console.warn("[QueriesObserver]: Duplicate Queries found. This might result in unexpected behavior.")}b.batch(()=>{const s=u(this,C),a=T(this,h,q).call(this,u(this,M));y(this,N,a),a.forEach(o=>o.observer.setOptions(o.defaultedQueryOptions));const n=a.map(o=>o.observer),i=n.map(o=>o.getCurrentResult()),c=n.some((o,m)=>o!==s[m]);s.length===n.length&&!c||(y(this,C,n),y(this,K,i),this.hasListeners()&&($(s,n).forEach(o=>{o.destroy()}),$(n,s).forEach(o=>{o.subscribe(m=>{T(this,h,v).call(this,o,m)})}),T(this,h,Q).call(this)))})}getCurrentResult(){return u(this,K)}getQueries(){return u(this,C).map(e=>e.getCurrentQuery())}getObservers(){return u(this,C)}getOptimisticResult(e,t){const s=T(this,h,q).call(this,e),a=s.map(n=>n.observer.getOptimisticResult(n.defaultedQueryOptions));return[a,n=>T(this,h,L).call(this,n??a,t),()=>T(this,h,S).call(this,a,s)]}},I=new WeakMap,K=new WeakMap,M=new WeakMap,f=new WeakMap,C=new WeakMap,H=new WeakMap,O=new WeakMap,P=new WeakMap,N=new WeakMap,h=new WeakSet,S=function(e,t){return t.map((s,a)=>{const n=e[a];return s.defaultedQueryOptions.notifyOnChangeProps?n:s.observer.trackResult(n,i=>{t.forEach(c=>{c.observer.trackProp(i)})})})},L=function(e,t){return t?((!u(this,H)||u(this,K)!==u(this,P)||t!==u(this,O))&&(y(this,O,t),y(this,P,u(this,K)),y(this,H,X(u(this,H),t(e)))),u(this,H)):e},q=function(e){const t=new Map(u(this,C).map(a=>[a.options.queryHash,a])),s=[];return e.forEach(a=>{const n=u(this,I).defaultQueryOptions(a),i=t.get(n.queryHash);i?s.push({defaultedQueryOptions:n,observer:i}):s.push({defaultedQueryOptions:n,observer:new z(u(this,I),n)})}),s},v=function(e,t){const s=u(this,C).indexOf(e);s!==-1&&(y(this,K,ce(u(this,K),s,t)),T(this,h,Q).call(this))},Q=function(){var e;if(this.hasListeners()){const t=u(this,H),s=T(this,h,S).call(this,u(this,K),u(this,N)),a=T(this,h,L).call(this,s,(e=u(this,f))==null?void 0:e.combine);t!==a&&b.batch(()=>{this.listeners.forEach(n=>{n(u(this,K))})})}},j);function ye({queries:r,...e},t){const s=Z(),a=ee(),n=te(),i=G.useMemo(()=>r.map(p=>{const g=s.defaultQueryOptions(p);return g._optimisticResults=a?"isRestoring":"optimistic",g}),[r,s,a]);i.forEach(p=>{se(p),re(p,n)}),ne(n);const[c]=G.useState(()=>new he(s,i,e)),[o,m,J]=c.getOptimisticResult(i,e.combine),Y=!a&&e.subscribed!==!1;G.useSyncExternalStore(G.useCallback(p=>Y?c.subscribe(b.batchCalls(p)):ae,[c,Y]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),G.useEffect(()=>{c.setQueries(i,e)},[i,e,c]);const V=o.some((p,g)=>k(i[g],p))?o.flatMap((p,g)=>{const d=i[g];if(d){const F=new z(s,d);if(k(d,p))return x(d,F,n);ue(p,a)&&x(d,F,n)}return[]}):[];if(V.length>0)throw Promise.all(V);const R=o.find((p,g)=>{const d=i[g];return d&&ie({result:p,errorResetBoundary:n,throwOnError:d.throwOnError,query:s.getQueryCache().get(d.queryHash),suspense:d.suspense})});if(R!=null&&R.error)throw R.error;return m(J())}class E{static async getPhieuDangKyKiemNghiemByTrangThai(e){try{const t=await _.get(`${l.CUSTOMER.PHIEU_DANG_KY_DICH_VU_KIEM_NGHIEM.GET_ALL_PHIEU_DANG_KY_BY_TRANG_THAI}?maKH=${e.maKH}&maTrangThaiPhieuDangKy=${e.maTrangThaiPhieuDangKy}`);return t==null?void 0:t.data}catch(t){return t}}static async createPhieuDKyDVKN(e){try{return await _.post(l.CUSTOMER.PHIEU_DANG_KY_DICH_VU_KIEM_NGHIEM.CREATE_PHIEU_DANG_KY,e,{headers:{"Content-Type":"application/json"}})}catch(t){return t}}static async createDmMau(e){try{return await _.post(l.CUSTOMER.PHIEU_DANG_KY_DICH_VU_KIEM_NGHIEM.CREATE_DANH_MUC_MAU,e,{headers:{"Content-Type":"application/json"}})}catch(t){return t}}static async createTieuChuan(e){try{return await _.post(l.CUSTOMER.PHIEU_DANG_KY_DICH_VU_KIEM_NGHIEM.CREATE_TRANG_THAI,e,{headers:{"Content-Type":"application/json"}})}catch(t){return t}}static async createDmPhuLieuHoaChat(e){try{return await _.post(l.CUSTOMER.PHIEU_DANG_KY_DICH_VU_KIEM_NGHIEM.CREATE_DANH_MUC_PLHC,e,{headers:{"Content-Type":"application/json"}})}catch(t){return t}}static async getDmMauAll(){try{const e=await _.get(l.CUSTOMER.PHIEU_DANG_KY_DICH_VU_KIEM_NGHIEM.GET_DANH_MUC_MAU_ALL);return e==null?void 0:e.data}catch(e){return console.log("res",e),e}}static async getLoaiDichVuAll(){try{const e=await _.get(l.CUSTOMER.PHIEU_DANG_KY_DICH_VU_KIEM_NGHIEM.GET_LOAI_DICH_VU_ALL);return e==null?void 0:e.data}catch(e){return e}}static async getTrangThaiPhieuDkAll(){try{const e=await _.get(l.CUSTOMER.PHIEU_DANG_KY_DICH_VU_KIEM_NGHIEM.GET_TRANG_THAI_DKY_ALL);return e==null?void 0:e.data}catch(e){return e}}static async getTieuChuanAll(){try{const e=await _.get(l.CUSTOMER.PHIEU_DANG_KY_DICH_VU_KIEM_NGHIEM.GET_TIEU_CHUAN_ALL);return e==null?void 0:e.data}catch(e){return e}}static async getLoaiMauAll(){try{const e=await _.get(l.CUSTOMER.PHIEU_DANG_KY_DICH_VU_KIEM_NGHIEM.GET_LOAI_MAU_ALL);return e==null?void 0:e.data}catch(e){return e}}static async getDmPhuLieuHoaChatAll(){try{const e=await _.get(l.CUSTOMER.PHIEU_DANG_KY_DICH_VU_KIEM_NGHIEM.GET_DANH_MUC_PLHC);return e==null?void 0:e.data}catch(e){return e}}static async getThoiGianTieuChuan(e){try{const t=await _.get(`${l.CUSTOMER.PHIEU_DANG_KY_DICH_VU_KIEM_NGHIEM.GET_THOI_GIAN_TIEU_CHUAN}?maDmMau=${e.maDmMau}&maTieuChuan=${e.maTieuChuan}`);return t==null?void 0:t.data}catch(t){return t}}static async updatePhieuDangKy(e){try{const t=await _.put(l.CUSTOMER.UPDATE_PHIEU_DANG_KY,e,{headers:{"Content-Type":"application/json"}});return t==null?void 0:t.data}catch(t){return t}}static async HuyPhieuDangKy(e){try{const t=await _.delete(`${l.CUSTOMER.HUY_PHIEU_DANG_KY}?maPhieuDangKy=${e}`,{headers:{"Content-Type":"application/json"}});return t==null?void 0:t.data}catch(t){return t}}static async getLocPhieuDky(e){try{const t=await _.get(l.CUSTOMER.PHIEU_DANG_KY_DICH_VU_KIEM_NGHIEM.GET_LOC_PHIEU_DANG_KY_BY_TRANG_THAI,{params:e});return t==null?void 0:t.data}catch(t){return t}}}const Ee=r=>{const{queryKey:e,maKH:t,trangThaiIDs:s}=r,a=ye({queries:s.map(c=>({queryKey:[e,c],queryFn:async()=>{const o={maKH:t,maTrangThaiPhieuDangKy:c};return await E.getPhieuDangKyKiemNghiemByTrangThai(o)},staleTime:1/0,cacheTime:1/0}))}),n=a.flatMap(c=>c.data??[]),i=a.some(c=>c.isLoading);return{data:n,isLoading:i}},Ke=r=>{const{queryKey:e}=r;return U({queryKey:[e],queryFn:async()=>await E.getDmMauAll(),staleTime:1/0})},Ce=r=>{const{queryKey:e}=r;return U({queryKey:[e],queryFn:async()=>await E.getDmPhuLieuHoaChatAll()})},De=r=>{const{queryKey:e}=r;return U({queryKey:[e],queryFn:async()=>await E.getLoaiDichVuAll()})},Te=r=>{const{queryKey:e,options:t}=r;return U({queryKey:[e],queryFn:async()=>await E.getLoaiMauAll(),...t,refetchOnMount:!1,refetchOnWindowFocus:!1})},de=r=>{const{queryKey:e,options:t}=r;return U({queryKey:[e],queryFn:async()=>await E.getTieuChuanAll(),...t,refetchOnMount:!1,refetchOnWindowFocus:!1})},ge=r=>{const{queryKey:e,onSettled:t,handleClickOpenPopupNofitication:s}=r,a=oe(n=>n.showNotification);return A({mutationKey:[e],mutationFn:async n=>await E.createPhieuDKyDVKN(n),onSuccess:n=>{n.status!==200?a({message:"Lỗi Server",status:400}):s==null||s()},onSettled:t})},He=r=>{const{queryKey:e,onSettled:t,onSuccess:s,onError:a}=r;return A({mutationKey:[e],mutationFn:async n=>await E.createDmMau(n),onSuccess:s,onError:a,onSettled:t})},Ie=r=>{const{queryKey:e,onSettled:t,onSuccess:s,onError:a}=r;return A({mutationKey:[e],mutationFn:async n=>await E.createTieuChuan(n),onSuccess:s,onError:a,onSettled:t})},me=r=>{const{queryKey:e,onSettled:t}=r;return A({mutationKey:[e],mutationFn:async s=>await E.createDmPhuLieuHoaChat(s),onSuccess:s=>{s!==200&&console.log("Lỗi Server")},onSettled:t})},Me=r=>{const{queryKey:e,maTieuChuan:t,maDmMau:s}=r;return U({queryKey:[e,t,s],queryFn:async()=>{if(s&&t){let a={maDmMau:s,maTieuChuan:t};return await E.getThoiGianTieuChuan(a)}return null}})},fe=r=>{const{queryKey:e,onSettled:t,onSuccess:s,onError:a}=r;return A({mutationKey:[e],mutationFn:async n=>await E.updatePhieuDangKy(n),onSuccess:s,onError:a,onSettled:t})},Ae=r=>{const{queryKey:e,onSettled:t,onSuccess:s,onError:a}=r;return A({mutationKey:[e],mutationFn:async n=>await E.HuyPhieuDangKy(n),onSuccess:s,onError:a,onSettled:t})};export{Ae as a,fe as b,Te as c,He as d,Ie as e,Ke as f,de as g,De as h,Me as i,Ce as j,me as k,ge as l,Ee as u};
