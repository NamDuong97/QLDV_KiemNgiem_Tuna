import{x as h,r as _,at as b,au as L,av as D,aw as g,ax as f,ay as V,f as p,L as x,N as F,O as K,h as e,X as T,az as y,v as A}from"./index-BDpQ_Sx3.js";const Q=l=>{const{queryKey:N,onSettled:o}=l,t=h(i=>i.showNotification),{setIsMaID:c}=_.useContext(b);return L({mutationKey:[N],mutationFn:async i=>await V.loginPersonnel(i),onSuccess:i=>{var d;const{status:n,response:m}=i;if(n!==200){t({message:((d=m==null?void 0:m.data)==null?void 0:d.message)||"Email không tồn tại hoặc sai mật khẩu",status:n});return}else{t({message:"Đăng nhập thành công",status:200});const{token:u,refreshToken:r,maId:s}=i.data;D.set(g.TOKEN,u,{expires:2,sameSite:"Strict",secure:f()}),D.set(g.REFRESH_TOKEN,r,{expires:2,sameSite:"Strict",secure:f()}),D.set(g.ID,s,{expires:2,sameSite:"Strict",secure:f()}),c(s)}},onError:i=>i,onSettled:o})},v=()=>{var u,r,s,E;const l=p();let N=_.useMemo(()=>x.object().shape({email:x.string().required("Yêu cầu nhập Email").email("Email sai định dạng").max(50,"Email nhập phải dưới 50 ký tự"),password:x.string().required("Yêu cầu nhập mật khẩu").max(200,"Mật khẩu nhập phải dưới 200 ký tự")}),[]);const{register:o,handleSubmit:t,reset:c,formState:{errors:i}}=F({resolver:K(N),mode:"onChange"}),n=async a=>{await y.invalidateQueries({queryKey:["DangNhapNhanVien"]}),(a==null?void 0:a.status)===200&&l(A.TUNA_ADMIN.DASHBOARD.to)},{mutate:m}=Q({queryKey:"DangNhapNhanVien",onSettled:n}),d=a=>{m(a)};return _.useEffect(()=>{c({email:"",password:""})},[]),e.jsxDEV("section",{className:"flex items-center justify-center",children:e.jsxDEV("div",{className:"container py-5",children:e.jsxDEV("div",{className:"flex justify-center items-center min-h-screen",children:e.jsxDEV("div",{className:"w-full max-w-4xl",children:e.jsxDEV("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden flex flex-col md:flex-row border border-gray-300",children:[e.jsxDEV("div",{className:"w-2/5 flex items-center bg-[linear-gradient(to_bottom,#F7797D,#FBD786,#C6FFDD)]",children:e.jsxDEV("img",{src:T.imageTunaLogo,alt:"login form",className:"object-cover",style:{borderRadius:"1rem 0 0 1rem"}},void 0,!1,{fileName:"D:/Study/DATN/FE/QLDV_KiemNgiem_Tuna/QLDV_KiemNghiem_FE/src/components/Login/Admin/index.tsx",lineNumber:74,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/Study/DATN/FE/QLDV_KiemNgiem_Tuna/QLDV_KiemNghiem_FE/src/components/Login/Admin/index.tsx",lineNumber:73,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex-1 flex items-center",children:e.jsxDEV("div",{className:"p-8 md:p-12 w-full",children:e.jsxDEV("form",{autoComplete:"off",onSubmit:t(d),children:[e.jsxDEV("div",{className:"flex items-center mb-8",children:e.jsxDEV("span",{className:"text-3xl font-bold",children:"Đăng nhập"},void 0,!1,{fileName:"D:/Study/DATN/FE/QLDV_KiemNgiem_Tuna/QLDV_KiemNghiem_FE/src/components/Login/Admin/index.tsx",lineNumber:85,columnNumber:23},void 0)},void 0,!1,{fileName:"D:/Study/DATN/FE/QLDV_KiemNgiem_Tuna/QLDV_KiemNghiem_FE/src/components/Login/Admin/index.tsx",lineNumber:84,columnNumber:21},void 0),e.jsxDEV("div",{className:"mb-6 grid gap-1 relative",children:[e.jsxDEV("label",{htmlFor:"form2Example17",className:"block text-cyan-950",children:"Email address"},void 0,!1,{fileName:"D:/Study/DATN/FE/QLDV_KiemNgiem_Tuna/QLDV_KiemNghiem_FE/src/components/Login/Admin/index.tsx",lineNumber:88,columnNumber:23},void 0),e.jsxDEV("input",{type:"email",id:"form2Example17",...o("email"),className:"form-input w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-400"},void 0,!1,{fileName:"D:/Study/DATN/FE/QLDV_KiemNgiem_Tuna/QLDV_KiemNghiem_FE/src/components/Login/Admin/index.tsx",lineNumber:94,columnNumber:23},void 0),((u=i.email)==null?void 0:u.message)&&e.jsxDEV("p",{className:"text-sm text-red-600 absolute -bottom-6",children:(r=i.email)==null?void 0:r.message},void 0,!1,{fileName:"D:/Study/DATN/FE/QLDV_KiemNgiem_Tuna/QLDV_KiemNghiem_FE/src/components/Login/Admin/index.tsx",lineNumber:101,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/Study/DATN/FE/QLDV_KiemNgiem_Tuna/QLDV_KiemNghiem_FE/src/components/Login/Admin/index.tsx",lineNumber:87,columnNumber:21},void 0),e.jsxDEV("div",{className:"mb-8 relative",children:[e.jsxDEV("label",{htmlFor:"form2Example27",className:"block mb-2 text-cyan-950",children:"Password"},void 0,!1,{fileName:"D:/Study/DATN/FE/QLDV_KiemNgiem_Tuna/QLDV_KiemNghiem_FE/src/components/Login/Admin/index.tsx",lineNumber:107,columnNumber:23},void 0),e.jsxDEV("input",{type:"password",id:"form2Example27",...o("password"),className:"form-input w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-400"},void 0,!1,{fileName:"D:/Study/DATN/FE/QLDV_KiemNgiem_Tuna/QLDV_KiemNghiem_FE/src/components/Login/Admin/index.tsx",lineNumber:113,columnNumber:23},void 0),((s=i.password)==null?void 0:s.message)&&e.jsxDEV("p",{className:"text-sm text-red-600 absolute -bottom-6",children:(E=i.password)==null?void 0:E.message},void 0,!1,{fileName:"D:/Study/DATN/FE/QLDV_KiemNgiem_Tuna/QLDV_KiemNghiem_FE/src/components/Login/Admin/index.tsx",lineNumber:120,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/Study/DATN/FE/QLDV_KiemNgiem_Tuna/QLDV_KiemNghiem_FE/src/components/Login/Admin/index.tsx",lineNumber:106,columnNumber:21},void 0),e.jsxDEV("div",{className:"mb-6",children:e.jsxDEV("button",{className:"w-full py-3 bg-[#41737c] text-white text-lg rounded-lg hover:bg-[#356267] transition cursor-pointer",children:"Login"},void 0,!1,{fileName:"D:/Study/DATN/FE/QLDV_KiemNgiem_Tuna/QLDV_KiemNghiem_FE/src/components/Login/Admin/index.tsx",lineNumber:126,columnNumber:23},void 0)},void 0,!1,{fileName:"D:/Study/DATN/FE/QLDV_KiemNgiem_Tuna/QLDV_KiemNghiem_FE/src/components/Login/Admin/index.tsx",lineNumber:125,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex justify-between items-center mb-4",children:e.jsxDEV("a",{className:"text-sm text-cyan-950 hover:underline",href:"#!",children:"Forgot password?"},void 0,!1,{fileName:"D:/Study/DATN/FE/QLDV_KiemNgiem_Tuna/QLDV_KiemNghiem_FE/src/components/Login/Admin/index.tsx",lineNumber:131,columnNumber:23},void 0)},void 0,!1,{fileName:"D:/Study/DATN/FE/QLDV_KiemNgiem_Tuna/QLDV_KiemNghiem_FE/src/components/Login/Admin/index.tsx",lineNumber:130,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-4 text-xs text-cyan-950",children:[e.jsxDEV("a",{href:"#!",className:"hover:underline",children:"Terms of use."},void 0,!1,{fileName:"D:/Study/DATN/FE/QLDV_KiemNgiem_Tuna/QLDV_KiemNghiem_FE/src/components/Login/Admin/index.tsx",lineNumber:139,columnNumber:23},void 0),e.jsxDEV("a",{href:"#!",className:"hover:underline",children:"Privacy policy"},void 0,!1,{fileName:"D:/Study/DATN/FE/QLDV_KiemNgiem_Tuna/QLDV_KiemNghiem_FE/src/components/Login/Admin/index.tsx",lineNumber:142,columnNumber:23},void 0)]},void 0,!0,{fileName:"D:/Study/DATN/FE/QLDV_KiemNgiem_Tuna/QLDV_KiemNghiem_FE/src/components/Login/Admin/index.tsx",lineNumber:138,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Study/DATN/FE/QLDV_KiemNgiem_Tuna/QLDV_KiemNghiem_FE/src/components/Login/Admin/index.tsx",lineNumber:83,columnNumber:19},void 0)},void 0,!1,{fileName:"D:/Study/DATN/FE/QLDV_KiemNgiem_Tuna/QLDV_KiemNghiem_FE/src/components/Login/Admin/index.tsx",lineNumber:82,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/Study/DATN/FE/QLDV_KiemNgiem_Tuna/QLDV_KiemNghiem_FE/src/components/Login/Admin/index.tsx",lineNumber:81,columnNumber:15},void 0)]},void 0,!0,{fileName:"D:/Study/DATN/FE/QLDV_KiemNgiem_Tuna/QLDV_KiemNghiem_FE/src/components/Login/Admin/index.tsx",lineNumber:72,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Study/DATN/FE/QLDV_KiemNgiem_Tuna/QLDV_KiemNghiem_FE/src/components/Login/Admin/index.tsx",lineNumber:71,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/Study/DATN/FE/QLDV_KiemNgiem_Tuna/QLDV_KiemNghiem_FE/src/components/Login/Admin/index.tsx",lineNumber:70,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Study/DATN/FE/QLDV_KiemNgiem_Tuna/QLDV_KiemNghiem_FE/src/components/Login/Admin/index.tsx",lineNumber:69,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Study/DATN/FE/QLDV_KiemNgiem_Tuna/QLDV_KiemNghiem_FE/src/components/Login/Admin/index.tsx",lineNumber:68,columnNumber:5},void 0)},j=()=>e.jsxDEV(e.Fragment,{children:e.jsxDEV(v,{},void 0,!1,{fileName:"D:/Study/DATN/FE/QLDV_KiemNgiem_Tuna/QLDV_KiemNghiem_FE/src/pages/admin/login/index.tsx",lineNumber:7,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/Study/DATN/FE/QLDV_KiemNgiem_Tuna/QLDV_KiemNghiem_FE/src/pages/admin/login/index.tsx",lineNumber:6,columnNumber:5},void 0);export{j as default};
